generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             Int        @id @default(autoincrement())
  userName       String
  email          String     @unique
  hashedPassword String
  createdAt      DateTime   @default(now())
  updatedAt      DateTime   @updatedAt
  image          String?
  club           ClubType?
  role           RoleType
  school         School?
  userType       UserType?
  level          Level?
  Blog           Blog[]
  Event          Event[]
  researches     Research[]
}

model Event {
  id          Int       @id @default(autoincrement())
  createdById Int
  dateOfEvent DateTime
  title       String
  desc        String
  venue       String
  timeOfEvent DateTime
  gallery     String[]  @default([])
  type        EventType
  speaker     String
  host        String
  poster      String
  slug        String    @unique
  createdBy   User      @relation(fields: [createdById], references: [id])
}

model Research {
  id        Int      @id @default(autoincrement())
  userId    Int
  createdAt DateTime @default(now())
  status    Status
  ans1      String
  ans2      String
  ans3      String
  ans4      String
  updatedBy String?
  title     String
  user      User     @relation(fields: [userId], references: [id])
}

model Blog {
  id          Int      @id @default(autoincrement())
  createdById Int
  createdAt   DateTime @default(now())
  title       String
  desc        String
  slug        String   @unique
  poster      String
  views       Int      @default(0)
  createdBy   User     @relation(fields: [createdById], references: [id])
}

enum EventType {
  GENERAL
  GDSC
  ACS
  HEALTHIT
  IOT
}

enum Status {
  PENDING
  INPROGRESS
  DONE
  REJECTED
}

enum ClubType {
  GDSC
  ACS
  HealthIT
  IoT
  GENERAL
}

enum RoleType {
  Member
  Lead
  CoLead
  CoTeam
  Patron
  Admin
}

enum School {
  CSE
  ETS
  FORENSICS
  MASTERSCSE
}

enum UserType {
  STUDENT
  CLASSREP
  SCHOOLREP
  DEPUTYCLASSREP
  DEPUTYSCHOOLREP
  LECTURER
  COD
}

enum Level {
  FIRST
  SECOND
  THIRD
  FOURTH
}
